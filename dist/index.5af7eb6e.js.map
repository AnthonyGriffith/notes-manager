{"mappings":"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","sources":["src/js/model.js","src/js/Views/CategoryView.js","src/js/helper.js","src/js/Views/notesView.js","src/js/Views/searchView.js","src/js/controller.js"],"sourcesContent":["export const state = {\r\n  currentCategory: {\r\n    name: \"\",\r\n    notes: [],\r\n    currentID: 1,\r\n  },\r\n  categories: [\r\n    {\r\n      name: \"Reminders\",\r\n      notes: [],\r\n      currentID: 1,\r\n    },\r\n    {\r\n      name: \"Notes\",\r\n      notes: [],\r\n      currentID: 1,\r\n    },\r\n  ],\r\n  search: {\r\n    query: \"\",\r\n    notes: [],\r\n  },\r\n  favorites: [],\r\n};\r\n\r\nexport const addCategory = function (name) {\r\n  try {\r\n    // 1) check if the category already exists\r\n    const exists = categoryExist(name);\r\n    if (exists) throw new Error(\"Categoria ya existente\");\r\n\r\n    // 2) create and add the category\r\n    const newCategory = {\r\n      name: name,\r\n      notes: [],\r\n      currentID: 0,\r\n    };\r\n    state.categories.push(newCategory);\r\n\r\n    // 3) set current category to the new one.\r\n    state.currentCategory = newCategory;\r\n    saveData();\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const changeCategory = function (name) {\r\n  const category = state.categories.find(\r\n    (category) => category.name.toLowerCase() === name.toLowerCase()\r\n  );\r\n\r\n  state.currentCategory = category;\r\n};\r\n\r\nexport const addNote = function (note) {\r\n  const date = new Date(Date.now()).toDateString();\r\n  const newNote = {\r\n    note: note,\r\n    date: date,\r\n    id: state.currentCategory.currentID + 1,\r\n  };\r\n\r\n  state.currentCategory.currentID += 1;\r\n\r\n  state.currentCategory.notes.push(newNote);\r\n  saveData();\r\n};\r\n\r\nconst categoryExist = function (name) {\r\n  return state.categories.some((category) => category.name === name);\r\n};\r\n\r\nconst saveData = function () {\r\n  localStorage.setItem(\"state\", JSON.stringify(state));\r\n};\r\nconst getData = function () {\r\n  const data = JSON.parse(localStorage.getItem(\"state\"));\r\n\r\n  if (!data) return;\r\n\r\n  state.categories = data.categories;\r\n  state.currentCategory = data.categories;\r\n  state.search = data.search;\r\n};\r\n\r\nexport const searchNotes = function (query) {\r\n  const notes = state.currentCategory.notes.filter((note) =>\r\n    note.note.toLowerCase().includes(query.toLowerCase())\r\n  );\r\n  state.search.notes = notes;\r\n};\r\n\r\nexport const deleteNote = function (id) {\r\n  for (let [index, note] of state.currentCategory.notes.entries()) {\r\n    if (note.id === id) {\r\n      state.currentCategory.notes.splice(index, 1);\r\n    }\r\n  }\r\n  saveData();\r\n};\r\n\r\nexport const addFavorite = function (newNote) {\r\n  state.favorites.push(newNote);\r\n  saveData();\r\n};\r\n\r\nexport const deleteFavorite = function (id) {\r\n  index = state.favorites.findIndex((note) => note.id === id);\r\n  state.favorites.splice(index, 1);\r\n  saveData();\r\n};\r\n\r\nconst init = function () {\r\n  getData();\r\n  state.currentCategory = state.categories[0];\r\n};\r\ninit();\r\n","class CategoryView {\r\n  _parentEl;\r\n  _formAddCategory;\r\n  _errorMessage =\r\n    \"The category could not be add because it exceeds the characters limit.\";\r\n  _data;\r\n  _addCategoryBtn;\r\n  constructor() {\r\n    this._parentEl = document.querySelector(\".category-list\");\r\n    this._formAddCategory = document.getElementById(\"new-category-form\");\r\n    this._addCategoryBtn = document.querySelector(\".add-icon\");\r\n    this._addCategoryBtn.addEventListener(\"click\", this._showForm.bind(this));\r\n    this.getFormInput().addEventListener(\"blur\", this._hideForm.bind(this));\r\n  }\r\n\r\n  getQuery() {\r\n    const query = this._parentEl.querySelector(\".new-category\").value;\r\n    return query;\r\n  }\r\n\r\n  getFormInput() {\r\n    return this._parentEl.querySelector(\".new-category\");\r\n  }\r\n\r\n  addHandlerCreateCategory(handler) {\r\n    if (!this._formAddCategory) return;\r\n    this._formAddCategory.addEventListener(\"submit\", (e) => {\r\n      e.preventDefault();\r\n      const query = this.getQuery();\r\n      this._parentEl.lastElementChild.classList.toggle(\"hidden\");\r\n      if (!query) return;\r\n      this.getFormInput().value = \"\";\r\n      handler(query);\r\n    });\r\n    this.renderSavedCategories();\r\n  }\r\n\r\n  addRenderCategoryHandler(handler) {\r\n    this._parentEl.addEventListener(\"click\", (e) => {\r\n      const categoryBTN = e.target.closest(\".category\");\r\n      if (!categoryBTN) return;\r\n      this._parentEl.querySelector(\".current\").classList.remove(\"current\");\r\n      categoryBTN.classList.add(\"current\");\r\n      const categoryName = categoryBTN.textContent.trim();\r\n      handler(categoryName);\r\n    });\r\n  }\r\n\r\n  render(data) {\r\n    if (!data) return;\r\n    this._data = data;\r\n    const markup = this._generateCategoryMarkup(data.name);\r\n    this._parentEl.querySelector(\".current\").classList.remove(\"current\");\r\n    this._parentEl.lastElementChild.insertAdjacentHTML(\"beforebegin\", markup);\r\n  }\r\n\r\n  renderSavedCategories() {\r\n    const categories = this._data.categories.slice(2);\r\n    const markup = categories\r\n      .map((category) => {\r\n        return this._generateCategoryMarkup(category.name, false);\r\n      })\r\n      .join(\"\");\r\n    this._parentEl.lastElementChild.insertAdjacentHTML(\"beforebegin\", markup);\r\n  }\r\n\r\n  _generateCategoryMarkup(name, isCurrent = true) {\r\n    return `\r\n    <li class=\"category ${isCurrent ? \"current\" : \"\"}\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"category-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\" />\r\n      </svg>\r\n      <p>${name}</p>\r\n    </li>\r\n    `;\r\n  }\r\n\r\n  _showForm(e) {\r\n    e.preventDefault();\r\n    this._parentEl.lastElementChild.classList.remove(\"hidden\");\r\n    this.getFormInput().focus();\r\n  }\r\n  _hideForm(e) {\r\n    e.preventDefault();\r\n    this._parentEl.lastElementChild.classList.add(\"hidden\");\r\n    this.getFormInput().value = \"\";\r\n  }\r\n}\r\n\r\nexport default new CategoryView();\r\n","export function updateClipboard(text) {\r\n  navigator.clipboard.writeText(text).then(\r\n    function () {\r\n      /* clipboard successfully set */\r\n    },\r\n    function () {\r\n      /* clipboard write failed */\r\n    }\r\n  );\r\n}\r\n\r\nexport function wait(sec, handler) {\r\n  setTimeout(() => {\r\n    handler();\r\n  }, sec);\r\n}\r\n","import { updateClipboard, wait } from \"../helper.js\";\r\nclass NotesView {\r\n  _parentEl = document.getElementById(\"notes\");\r\n  _btnAddNote = this._parentEl.querySelector(\".submit-note\");\r\n  _formTextarea = this._parentEl.querySelector(\"textarea\");\r\n  _noteForm = this._parentEl.querySelector(\".new-note-form\");\r\n  _data;\r\n  _deleteHandler;\r\n\r\n  addNewNoteHandler(handler) {\r\n    this._noteForm.addEventListener(\"submit\", (e) => {\r\n      e.preventDefault();\r\n      const text = this._formTextarea.value;\r\n      if (!text) return;\r\n      handler(text);\r\n    });\r\n  }\r\n\r\n  renderCategory(data) {\r\n    this._data = data;\r\n    this._parentEl.querySelectorAll(\".note\").forEach((e) => e.remove());\r\n    data.notes.forEach((note) => {\r\n      const markup = `\r\n      <div class=\"note\" data-id=\"${note.id}\">\r\n        <div class=\"note-body\">\r\n          ${note.note}\r\n          <p>${note.date}</p>\r\n        </div>\r\n        <div class=\"note-side\">\r\n          <div class=\"icon-container\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-note\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n              <path d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" />\r\n              <path d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" />\r\n            </svg>\r\n          </div>\r\n          <div class=\"icon-container\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"delete-note-icon\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n              <path fill-rule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clip-rule=\"evenodd\" />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      `;\r\n      this._noteForm.insertAdjacentHTML(\"beforebegin\", markup);\r\n      const noteElement = this._noteForm.previousElementSibling;\r\n      const btnDeleteNote = noteElement.querySelector(\".delete-note-icon\");\r\n\r\n      btnDeleteNote.addEventListener(\"click\", (event) => {\r\n        event.preventDefault();\r\n        this._deleteHandler(note.id);\r\n        noteElement.style.opacity = \"0\";\r\n        wait(500, () => noteElement.remove());\r\n      });\r\n      const btnCopy = noteElement.querySelector(\".copy-note\");\r\n      btnCopy.addEventListener(\"click\", (event) => {\r\n        event.preventDefault();\r\n        const text = note.note;\r\n        updateClipboard(text);\r\n        btnCopy.classList.add(\"icon-active\");\r\n        wait(1000, () => btnCopy.classList.remove(\"icon-active\"));\r\n      });\r\n    });\r\n  }\r\n\r\n  renderNote(note) {\r\n    if (!note) return;\r\n    const markup = `\r\n    <div class=\"note\" data-id=\"${note.id}\">\r\n      <div class=\"note-body\">\r\n        ${note.note}\r\n        <p>${note.date}</p>\r\n      </div>\r\n      <div class=\"note-side\">\r\n        <div class=\"icon-container\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-note\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n            <path d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" />\r\n            <path d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" />\r\n          </svg>\r\n        </div>\r\n        <div class=\"icon-container\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"delete-note-icon\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n            <path fill-rule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clip-rule=\"evenodd\" />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    `;\r\n    this._noteForm.insertAdjacentHTML(\"beforebegin\", markup);\r\n    const noteElement = this._noteForm.previousElementSibling;\r\n    const btnDeleteNote = noteElement.querySelector(\".delete-note-icon\");\r\n\r\n    btnDeleteNote.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n      this._deleteHandler(note.id);\r\n      noteElement.style.opacity = \"0\";\r\n      wait(500, () => noteElement.remove());\r\n    });\r\n    const btnCopy = noteElement.querySelector(\".copy-note\");\r\n    btnCopy.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n      const text = note.note;\r\n      updateClipboard(text);\r\n      btnCopy.classList.add(\"icon-active\");\r\n      wait(1000, () => btnCopy.classList.remove(\"icon-active\"));\r\n    });\r\n    this._formTextarea.value = \"\";\r\n  }\r\n\r\n  addHandlerDelete(handler) {\r\n    this._deleteHandler = handler;\r\n  }\r\n\r\n  getTextAreaElement() {\r\n    return this._parentEl.querySelector(\"textarea\");\r\n  }\r\n}\r\n\r\nexport default new NotesView();\r\n","class SearchView {\r\n  parentEl = document.getElementById(\"search-bar\");\r\n  inputEl = this.parentEl.querySelector(\"#search\");\r\n  searchBTN = this.parentEl.querySelector(\".search-icon\");\r\n  deleteQuery = this.parentEl.querySelector(\".delete-search-icon\");\r\n  constructor() {\r\n    this.deleteQuery.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n      this.inputEl.value = \"\";\r\n    });\r\n    this.parentEl.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      this.inputEl.focus();\r\n    });\r\n  }\r\n\r\n  getSearchText() {\r\n    return this.inputEl.value;\r\n  }\r\n\r\n  addHandlerSearch(handler) {\r\n    this.parentEl.addEventListener(\"submit\", (event) => {\r\n      event.preventDefault();\r\n      const query = this.getSearchText();\r\n      handler(query);\r\n    });\r\n    this.searchBTN.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n      const query = this.getSearchText();\r\n      handler(query);\r\n    });\r\n  }\r\n}\r\n\r\nexport default new SearchView();\r\n","import * as model from \"./model.js\";\r\nimport categoryView from \"./Views/CategoryView.js\";\r\nimport notesView from \"./Views/notesView.js\";\r\nimport searchView from \"./Views/searchView.js\";\r\n\r\nconst controlAddCategory = function (newCategory) {\r\n  try {\r\n    // 1) add new category\r\n    model.addCategory(newCategory);\r\n\r\n    // 2) render category\r\n    categoryView.render(model.state.currentCategory);\r\n\r\n    // 3) render notes\r\n    notesView.renderCategory(model.state.currentCategory);\r\n  } catch (err) {\r\n    console.log(\"Ya existe esa categoria\");\r\n  }\r\n};\r\n\r\nconst controlCategoryClick = function (categoryName) {\r\n  // 1) search category\r\n  model.changeCategory(categoryName);\r\n\r\n  // 2) render it\r\n  notesView.renderCategory(model.state.currentCategory);\r\n};\r\n\r\nconst controlAddNote = function (note) {\r\n  // 1) add note to the current category\r\n  model.addNote(note);\r\n\r\n  // 2) render it\r\n  const newNote = model.state.currentCategory.notes.slice(-1)[0];\r\n  notesView.renderNote(newNote);\r\n};\r\n\r\nconst controlSearchNotes = function (query) {\r\n  // 1) search for results\r\n  model.searchNotes(query);\r\n  // 2) render them\r\n  notesView.renderCategory(model.state.search);\r\n};\r\n\r\nconst controlDeleteNote = function (noteID) {\r\n  // 1) delete the note\r\n  model.deleteNote(noteID);\r\n};\r\n\r\nconst controlAddFavoriteNote = function (note) {\r\n  // 1) add note to favorites\r\n  model.addFavorite(note);\r\n};\r\n\r\nconst controlDeleteFavoriteNote = function (id) {\r\n  // 1) delete note from favorites\r\n  model.deleteFavorite(id);\r\n};\r\nconst init = function () {\r\n  categoryView._data = model.state;\r\n  notesView._deleteHandler = controlDeleteNote;\r\n  categoryView.addHandlerCreateCategory(controlAddCategory);\r\n  categoryView.addRenderCategoryHandler(controlCategoryClick);\r\n  notesView.renderCategory(model.state.currentCategory);\r\n  notesView.addNewNoteHandler(controlAddNote);\r\n  searchView.addHandlerSearch(controlSearchNotes);\r\n};\r\ninit();\r\n"],"names":["$8a418f4c2848ae4e$export$ca000e230c0caa3e","currentCategory","name","notes","currentID","categories","search","query","favorites","$8a418f4c2848ae4e$var$categoryExist","some","category","$8a418f4c2848ae4e$var$saveData","localStorage","setItem","JSON","stringify","data","parse","getItem","$8a418f4c2848ae4e$var$getData","_parentEl","_formAddCategory","_errorMessage","_data","_addCategoryBtn","this","document","querySelector","getElementById","addEventListener","_showForm","bind","getFormInput","_hideForm","getQuery","value","addHandlerCreateCategory","handler","e","preventDefault","lastElementChild","classList","toggle","renderSavedCategories","addRenderCategoryHandler","handler1","categoryBTN","target","closest","remove","add","categoryName","textContent","trim","render","markup","_generateCategoryMarkup","insertAdjacentHTML","slice","map","join","isCurrent","$382eeb8b61d9eb9c$export$2ee0cf4dc25c6726","text","navigator","clipboard","writeText","then","$382eeb8b61d9eb9c$export$5c069c93d2b7493f","sec","setTimeout","_btnAddNote","_formTextarea","_noteForm","_deleteHandler","addNewNoteHandler","renderCategory","querySelectorAll","forEach","note","id","date","noteElement","previousElementSibling","event","style","opacity","btnCopy","$695ad2755af70771$export$2e2bcd8739ae039","parentEl","inputEl","searchBTN","deleteQuery","focus","getSearchText","addHandlerSearch","$e59237c46c570137$var$controlAddCategory","newCategory","Error","push","err","$8a418f4c2848ae4e$export$33005c1ca00aaa85","$81c62496b7e181d5$export$2e2bcd8739ae039","$bb08345f48ca0028$export$2e2bcd8739ae039","console","log","$e59237c46c570137$var$controlCategoryClick","category1","find","toLowerCase","$8a418f4c2848ae4e$export$15868707bf911fe6","$e59237c46c570137$var$controlAddNote","newNote","Date","now","toDateString","$8a418f4c2848ae4e$export$79159e21a6bceab7","renderNote","$e59237c46c570137$var$controlSearchNotes","filter","includes","$8a418f4c2848ae4e$export$ea25c3c97adcf00a","$e59237c46c570137$var$controlDeleteNote","noteID","index","entries","splice","$8a418f4c2848ae4e$export$8920e10839f33c45"],"version":3,"file":"index.5af7eb6e.js.map"}